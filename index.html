<!DOCTYPE html>
<html>

<head>
    <title>Pass Display Demo</title>
    <link src="dist/pk-pass-display.js"></script>
    <link rel="stylesheet" type="text/css" href="dist/pk-pass-display.css">
</head>

<body style="background:black;">
    <div data-ng-app="myApp" data-ng-controller="passCtrl">
        <pk-apple-pass pass-id="{{passId}}" bg-color="black"></pk-apple-pass>
    </div>
    <script src="node_modules/angular/angular.js"></script>
    <script src="node_modules/moment/min/moment-with-locales.js"></script>
    <script src="dist/pk-pass-display.js"></script>
    <script>
        (function (angular) {
            angular.module("myApp", ["pk-pass-display"]);
            //angular.module("myApp").config(["$locationProvider", appConfig]);
            angular.module("myApp").controller("passCtrl", ["$scope", "$window", passController]);

            function appConfig($locationProvider){
                $locationProvider.html5Mode({
                    enabled: true,
                    requireBase: false
                });
            }

            function passController($scope, $window) {
                $scope.passId = getParameterByName("pid", $window.location.href)
            }

            function getParameterByName(name, url) {
                if (!url) {
                    url = window.location.href;
                }
                name = name.replace(/[\[\]]/g, "\\$&");
                var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                    results = regex.exec(url);
                if (!results) return null;
                if (!results[2]) return '';
                return decodeURIComponent(results[2].replace(/\+/g, " "));
            }
        })(window.angular);
    </script>
</body>

</html>